# Zestra Capital - Charts (Visualization) Plugin

## Description

The ZC Charts Plugin is a pure visualization system for economic data. It integrates with the ZC DMT plugin to securely fetch and display economic indicator data using Chart.js or Highcharts libraries. It provides interactive charts with fallback capabilities to backup data.

This plugin is designed to work in conjunction with the ZC DMT plugin, which provides the data management and API.

## Features

-   **Secure Data Visualization**: Renders charts only with a valid API key from the ZC DMT plugin.
-   **Multiple Chart Libraries**: Supports both Chart.js and Highcharts for flexible visualization.
-   **Dynamic & Static Charts**: Offers two shortcode types for different use cases.
-   **Interactive Controls**: Dynamic charts include timeframe selectors, chart type toggles, and export options.
-   **Fallback System**: Automatically attempts to load backup data from the DMT plugin if live data is unavailable.
-   **Responsive Design**: Charts are fully responsive and work on all device sizes.
-   **Admin Interface**: Simple settings page to configure the API key and default chart options.

## Requirements

-   WordPress 5.0 or higher
-   PHP 7.4 or higher
-   ZC DMT Plugin (must be installed and activated)

## Installation

1.  Ensure the ZC DMT plugin is installed and activated.
2.  Download the plugin files.
3.  Upload the `zc-charts` folder to the `/wp-content/plugins/` directory.
4.  Activate the plugin through the 'Plugins' menu in WordPress.
5.  Configure the plugin settings via the Settings â†’ ZC Charts menu in the WordPress admin.

## Configuration

### API Key

In the "Settings" section, select an API key generated by the ZC DMT plugin. This key is required for the Charts plugin to access data.

### Chart Defaults

Configure default settings for charts, including:
-   Default chart library (Chart.js or Highcharts)
-   Default chart height
-   Enable/disable dynamic chart controls by default
-   Enable/disable fallback to backup data

## Shortcodes

### Dynamic Charts

`[zc_chart_dynamic id="indicator-slug" library="chartjs" timeframe="1y" height="400px" controls="true"]`

-   `id` (required): The indicator slug from the DMT plugin.
-   `library`: `chartjs` or `highcharts` (default: `chartjs`).
-   `timeframe`: `3m`, `6m`, `1y`, `2y`, `3y`, `5y`, `10y`, `15y`, `20y`, `25y`, `all` (default: `1y`).
-   `height`: Chart height (default: `300px`).
-   `controls`: Show interactive controls (`true` or `false`, default: `true`).

### Static Charts

`[zc_chart_static id="indicator-slug" library="highcharts" height="250px"]`

-   `id` (required): The indicator slug from the DMT plugin.
-   `library`: `chartjs` or `highcharts` (default: `chartjs`).
-   `height`: Chart height (default: `300px`).

## Chart Controls (Dynamic Charts)

Dynamic charts include an interactive control panel with:
-   Timeframe Selector: Buttons for various time ranges.
-   Chart Type Toggle: Switch between Line, Bar, and Area charts.
-   Export Options: Download charts as PNG, SVG, or CSV.

## Fallback System

If a chart fails to load live data from the DMT plugin, the Charts plugin will automatically attempt to fetch backup data. If successful, a "Displaying cached data" notice will appear above the chart.

## Error Handling

The plugin displays user-friendly error messages in the following scenarios:
-   **Invalid API Key**: "Unauthorized access. Please check your API key configuration."
-   **Data Not Found**: "The requested indicator data is not available."
-   **Network Error**: "Unable to load data. Please check your connection."
-   **Total Failure**: "Both live and backup data are unavailable."

## Changelog

### 2.0.0
-   Initial release
